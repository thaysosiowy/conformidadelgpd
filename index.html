<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ferramenta de Avaliação de Conformidade LGPD - OSIOWY</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
            line-height: 1.6;
        }

        .progress-container {
            background: #f8fafc;
            padding: 20px 40px;
            border-bottom: 1px solid #e2e8f0;
        }

        .progress-bar {
            background: #e2e8f0;
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .progress-fill {
            background: linear-gradient(90deg, #4f46e5, #7c3aed);
            height: 100%;
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .progress-text {
            font-size: 0.9rem;
            color: #64748b;
            font-weight: 500;
        }

        .content {
            padding: 40px;
        }

        .step {
            display: none;
        }

        .step.active {
            display: block;
        }

        .step h2 {
            color: #1e293b;
            font-size: 1.8rem;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .step-description {
            color: #64748b;
            margin-bottom: 30px;
            font-size: 1.1rem;
            line-height: 1.6;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #374151;
            font-size: 1rem;
        }

        .required {
            color: #ef4444;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.2s ease;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #4f46e5;
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
        }

        .question-group {
            margin-bottom: 30px;
            padding: 25px;
            background: #f8fafc;
            border-radius: 12px;
            border-left: 4px solid #4f46e5;
        }

        .question-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .radio-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .radio-option {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .radio-option:hover {
            border-color: #4f46e5;
            background: #f8fafc;
        }

        .radio-option input[type="radio"] {
            margin-right: 12px;
            width: 18px;
            height: 18px;
        }

        .radio-option.selected {
            border-color: #4f46e5;
            background: #eef2ff;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 40px;
            padding-top: 30px;
            border-top: 1px solid #e2e8f0;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(79, 70, 229, 0.3);
        }

        .btn-secondary {
            background: #f1f5f9;
            color: #64748b;
            border: 2px solid #e2e8f0;
        }

        .btn-secondary:hover {
            background: #e2e8f0;
            color: #475569;
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
            box-shadow: none !important;
        }

        .intro-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .intro-card {
            background: #f8fafc;
            padding: 25px;
            border-radius: 12px;
            text-align: center;
            border: 2px solid #e2e8f0;
        }

        .intro-card-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            color: white;
            font-size: 1.5rem;
        }

        .intro-card h3 {
            color: #1e293b;
            font-size: 1.2rem;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .intro-card p {
            color: #64748b;
            font-size: 0.95rem;
            line-height: 1.5;
        }

        .result-container {
            text-align: center;
            padding: 40px 20px;
        }

        .score-circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            margin: 0 auto 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            font-weight: 700;
            color: white;
        }

        .score-excellent { background: linear-gradient(135deg, #10b981 0%, #059669 100%); }
        .score-good { background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); }
        .score-fair { background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); }
        .score-poor { background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%); }

        .result-title {
            font-size: 2rem;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .result-description {
            font-size: 1.1rem;
            color: #64748b;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .recommendations {
            background: #f8fafc;
            border-radius: 12px;
            padding: 30px;
            margin: 30px 0;
            text-align: left;
        }

        .recommendations h3 {
            color: #1e293b;
            font-size: 1.4rem;
            margin-bottom: 20px;
            font-weight: 600;
        }

        .recommendation-item {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 15px;
            border-left: 4px solid #4f46e5;
        }

        .recommendation-item h4 {
            color: #1e293b;
            font-size: 1.1rem;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .recommendation-item p {
            color: #64748b;
            line-height: 1.5;
        }

        .cta-section {
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
            color: white;
            padding: 30px;
            border-radius: 12px;
            text-align: center;
            margin-top: 30px;
        }

        .cta-section h3 {
            font-size: 1.5rem;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .cta-section p {
            margin-bottom: 20px;
            opacity: 0.9;
            line-height: 1.6;
        }

        .btn-cta {
            background: white;
            color: #4f46e5;
            padding: 15px 30px;
            font-size: 1.1rem;
            font-weight: 600;
            border-radius: 8px;
            text-decoration: none;
            display: inline-block;
            transition: all 0.2s ease;
        }

        .btn-cta:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(255,255,255,0.3);
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 15px;
            }
            
            .header {
                padding: 30px 20px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .content {
                padding: 30px 20px;
            }
            
            .intro-cards {
                grid-template-columns: 1fr;
            }
            
            .navigation {
                flex-direction: column;
                gap: 15px;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
        }

        .error-message {
            background: #fef2f2;
            border: 1px solid #fecaca;
            color: #dc2626;
            padding: 12px 16px;
            border-radius: 8px;
            margin-top: 10px;
            font-size: 0.9rem;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #e2e8f0;
            border-top: 4px solid #4f46e5;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🛡️ Avaliação de Conformidade LGPD</h1>
            <p>Avalie o nível de conformidade da sua empresa com a Lei Geral de Proteção de Dados e receba um diagnóstico detalhado com propostas de adequação personalizadas.</p>
        </div>

        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-text" id="progressText">Etapa 1 de 10</div>
        </div>

        <div class="content">
            <!-- Etapa 0: Introdução -->
            <div class="step active" id="step0">
                <h2>Bem-vindo à Avaliação LGPD</h2>
                <p class="step-description">Esta ferramenta foi desenvolvida por especialistas em LGPD para avaliar o nível de conformidade da sua empresa com a Lei Geral de Proteção de Dados.</p>
                
                <div class="intro-cards">
                    <div class="intro-card">
                        <div class="intro-card-icon">✅</div>
                        <h3>Diagnóstico Completo</h3>
                        <p>Avaliação abrangente baseada nos principais requisitos da LGPD</p>
                    </div>
                    <div class="intro-card">
                        <div class="intro-card-icon">📊</div>
                        <h3>Relatório Detalhado</h3>
                        <p>Relatório com pontos fortes, fracos e recomendações específicas</p>
                    </div>
                    <div class="intro-card">
                        <div class="intro-card-icon">🎯</div>
                        <h3>Proposta Personalizada</h3>
                        <p>Proposta personalizada de adequação à LGPD para sua empresa</p>
                    </div>
                </div>

                <div style="background: #fef3c7; border: 1px solid #fbbf24; padding: 20px; border-radius: 8px; margin: 20px 0;">
                    <p><strong>⏱️ Tempo estimado:</strong> 10-15 minutos</p>
                    <p><strong>📋 Total de perguntas:</strong> 45 questões organizadas em 9 categorias</p>
                    <p><strong>🎯 Resultado:</strong> Pontuação de conformidade e plano de ação</p>
                </div>
            </div>

            <!-- Etapa 1: Informações da Empresa -->
            <div class="step" id="step1">
                <h2>Informações da Empresa</h2>
                <p class="step-description">Forneça informações básicas sobre sua empresa para personalizar a avaliação.</p>

                <div class="form-group">
                    <label for="companyName">Nome da Empresa <span class="required">*</span></label>
                    <input type="text" id="companyName" placeholder="Digite o nome da sua empresa" required>
                </div>

                <div class="form-group">
                    <label for="sector">Setor de Atuação <span class="required">*</span></label>
                    <select id="sector" required>
                        <option value="">Selecione uma opção</option>
                        <option value="tecnologia">Tecnologia</option>
                        <option value="saude">Saúde</option>
                        <option value="financeiro">Financeiro</option>
                        <option value="educacao">Educação</option>
                        <option value="varejo">Varejo</option>
                        <option value="servicos">Serviços</option>
                        <option value="industria">Indústria</option>
                        <option value="governo">Governo/Público</option>
                        <option value="outro">Outro</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="employees">Número de Funcionários <span class="required">*</span></label>
                    <select id="employees" required>
                        <option value="">Selecione uma opção</option>
                        <option value="1-10">1-10 funcionários</option>
                        <option value="11-50">11-50 funcionários</option>
                        <option value="51-200">51-200 funcionários</option>
                        <option value="201-500">201-500 funcionários</option>
                        <option value="500+">Mais de 500 funcionários</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="email">E-mail para Receber o Relatório <span class="required">*</span></label>
                    <input type="email" id="email" placeholder="seu@email.com" required>
                </div>
            </div>

            <!-- Etapa 2: Governança e Estrutura -->
            <div class="step" id="step2">
                <h2>Governança e Estrutura Organizacional</h2>
                <p class="step-description">Avalie como sua empresa estruturou a governança de proteção de dados.</p>

                <div class="question-group">
                    <div class="question-title">1. Sua empresa possui uma política formal de proteção de dados aprovada pela alta direção?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q1" value="4"> Sim, temos política completa e atualizada
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q1" value="2"> Temos política básica, mas precisa ser atualizada
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q1" value="1"> Estamos desenvolvendo a política
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q1" value="0"> Não temos política de proteção de dados
                        </label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">2. Existe um responsável designado (Encarregado/DPO) para questões de proteção de dados?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q2" value="4"> Sim, DPO nomeado formalmente com conhecimento adequado
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q2" value="3"> Temos responsável designado, mas sem formação específica
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q2" value="1"> Estamos no processo de nomeação
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q2" value="0"> Não temos responsável designado
                        </label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">3. Os funcionários recebem treinamento sobre LGPD e proteção de dados?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q3" value="4"> Sim, treinamento regular e abrangente para todos
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q3" value="3"> Treinamento básico realizado
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q3" value="1"> Planejamos implementar treinamentos
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q3" value="0"> Não oferecemos treinamento sobre LGPD
                        </label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">4. Existe orçamento específico destinado à adequação e manutenção da conformidade LGPD?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q4" value="4"> Sim, orçamento adequado e aprovado anualmente
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q4" value="2"> Temos orçamento limitado para LGPD
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q4" value="1"> Estamos planejando alocar recursos
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q4" value="0"> Não temos orçamento específico para LGPD
                        </label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">5. As responsabilidades de proteção de dados estão claramente definidas em todos os níveis organizacionais?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q5" value="4"> Sim, responsabilidades bem definidas e documentadas
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q5" value="2"> Parcialmente definidas
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q5" value="1"> Em processo de definição
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q5" value="0"> Responsabilidades não estão definidas
                        </label>
                    </div>
                </div>
            </div>

            <!-- Etapa 3: Mapeamento e Inventário -->
            <div class="step" id="step3">
                <h2>Mapeamento e Inventário de Dados</h2>
                <p class="step-description">Avalie como sua empresa mapeia e controla os dados pessoais que processa.</p>

                <div class="question-group">
                    <div class="question-title">6. Sua empresa possui um inventário completo dos dados pessoais que coleta e processa?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q6" value="4"> Sim, inventário completo e atualizado regularmente
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q6" value="2"> Temos inventário básico, mas incompleto
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q6" value="1"> Estamos desenvolvendo o inventário
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q6" value="0"> Não temos inventário de dados pessoais
                        </label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">7. Os fluxos de dados pessoais dentro da empresa estão mapeados e documentados?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q7" value="4"> Sim, fluxos completamente mapeados e documentados
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q7" value="2"> Mapeamento parcial dos principais fluxos
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q7" value="1"> Iniciamos o mapeamento dos fluxos
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q7" value="0"> Fluxos de dados não estão mapeados
                        </label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">8. Existe um Registro das Operações de Tratamento (RoPA) conforme Art. 37 da LGPD?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q8" value="4"> Sim, RoPA completo e atualizado
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q8" value="2"> RoPA básico implementado
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q8" value="1"> Estamos desenvolvendo o RoPA
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q8" value="0"> Não temos RoPA
                        </label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">9. Os dados sensíveis são identificados e classificados adequadamente?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q9" value="4"> Sim, todos os dados sensíveis identificados e protegidos
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q9" value="2"> Identificação parcial dos dados sensíveis
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q9" value="1"> Iniciamos a identificação de dados sensíveis
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q9" value="0"> Dados sensíveis não são identificados
                        </label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">10. Todos os sistemas que processam dados pessoais estão identificados e catalogados?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q10" value="4"> Sim, todos os sistemas catalogados e monitorados
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q10" value="2"> Principais sistemas identificados
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q10" value="1"> Iniciamos o mapeamento dos sistemas
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q10" value="0"> Sistemas não estão catalogados
                        </label>
                    </div>
                </div>
            </div>

            <!-- Etapa 4: Bases Legais -->
            <div class="step" id="step4">
                <h2>Bases Legais e Finalidades</h2>
                <p class="step-description">Avalie se sua empresa identifica e documenta adequadamente as bases legais para o tratamento de dados.</p>

                <div class="question-group">
                    <div class="question-title">11. Para cada tratamento de dados pessoais, existe uma base legal identificada conforme Art. 7º da LGPD?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q11" value="4"> Sim, todas as bases legais identificadas e documentadas
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q11" value="2"> Bases legais identificadas para principais tratamentos
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q11" value="1"> Iniciamos a identificação das bases legais
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q11" value="0"> Bases legais não são identificadas
                        </label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">12. Quando o consentimento é a base legal, ele é coletado de forma específica, destacada e inequívoca?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q12" value="4"> Sim, consentimento sempre coletado adequadamente
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q12" value="2"> Consentimento coletado, mas pode ser melhorado
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q12" value="1"> Estamos adequando a coleta de consentimento
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q12" value="0"> Consentimento não é coletado adequadamente
                        </label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">13. As finalidades do tratamento de dados são específicas, explícitas e informadas aos titulares?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q13" value="4"> Sim, finalidades sempre claras e específicas
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q13" value="2"> Finalidades informadas, mas podem ser mais específicas
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q13" value="1"> Estamos melhorando a comunicação das finalidades
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q13" value="0"> Finalidades não são claramente informadas
                        </label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">14. Quando aplicável, o legítimo interesse é avaliado e documentado adequadamente?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q14" value="4"> Sim, legítimo interesse sempre avaliado e documentado
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q14" value="2"> Avaliação básica do legítimo interesse
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q14" value="1"> Iniciamos avaliações de legítimo interesse
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q14" value="0"> Legítimo interesse não é avaliado
                        </label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">15. O tratamento de dados é limitado às finalidades declaradas e necessárias?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q15" value="4"> Sim, tratamento sempre limitado às finalidades
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q15" value="2"> Geralmente limitado, mas há exceções
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q15" value="1"> Estamos implementando controles de finalidade
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q15" value="0"> Não há controle sobre as finalidades
                        </label>
                    </div>
                </div>
            </div>

            <!-- Etapa 5: Direitos dos Titulares -->
            <div class="step" id="step5">
                <h2>Direitos dos Titulares</h2>
                <p class="step-description">Avalie como sua empresa atende aos direitos dos titulares de dados conforme Art. 18 da LGPD.</p>

                <div class="question-group">
                    <div class="question-title">16. Existe um canal específico para solicitações dos titulares de dados?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q16" value="4"> Sim, canal dedicado e facilmente acessível
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q16" value="2"> Canal disponível, mas pode ser melhorado
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q16" value="1"> Estamos implementando canal específico
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q16" value="0"> Não temos canal específico
                        </label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">17. Existe processo definido para atender solicitações de acesso aos dados pessoais?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q17" value="4"> Sim, processo completo e eficiente
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q17" value="2"> Processo básico implementado
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q17" value="1"> Estamos desenvolvendo o processo
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q17" value="0"> Não temos processo para acesso
                        </label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">18. A empresa consegue atender solicitações de correção de dados dentro dos prazos legais?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q18" value="4"> Sim, sempre dentro dos prazos estabelecidos
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q18" value="2"> Geralmente atendemos nos prazos
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q18" value="1"> Estamos melhorando os tempos de resposta
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q18" value="0"> Não conseguimos atender nos prazos
                        </label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">19. Existe processo para eliminação de dados quando solicitado pelo titular?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q19" value="4"> Sim, processo completo de eliminação implementado
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q19" value="2"> Processo básico de eliminação
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q19" value="1"> Estamos desenvolvendo processo de eliminação
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q19" value="0"> Não temos processo de eliminação
                        </label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">20. Os prazos de atendimento às solicitações dos titulares são monitorados e cumpridos?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q20" value="4"> Sim, prazos sempre monitorados e cumpridos
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q20" value="2"> Monitoramento básico dos prazos
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q20" value="1"> Iniciamos monitoramento dos prazos
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q20" value="0"> Prazos não são monitorados
                        </label>
                    </div>
                </div>
            </div>

            <!-- Etapa 6: Segurança -->
            <div class="step" id="step6">
                <h2>Segurança da Informação</h2>
                <p class="step-description">Avalie as medidas de segurança técnicas e organizacionais implementadas para proteger os dados pessoais.</p>

                <div class="question-group">
                    <div class="question-title">21. Existem controles de acesso adequados aos dados pessoais?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q21" value="4"> Sim, controles rigorosos e baseados em necessidade
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q21" value="2"> Controles básicos implementados
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q21" value="1"> Estamos implementando controles de acesso
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q21" value="0"> Não há controles de acesso específicos
                        </label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">22. Os dados pessoais sensíveis são criptografados adequadamente?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q22" value="4"> Sim, criptografia robusta para todos os dados sensíveis
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q22" value="2"> Criptografia básica implementada
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q22" value="1"> Estamos implementando criptografia
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q22" value="0"> Dados não são criptografados
                        </label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">23. Existe política de backup e recuperação de dados implementada?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q23" value="4"> Sim, política completa e testada regularmente
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q23" value="2"> Política básica de backup implementada
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q23" value="1"> Estamos desenvolvendo política de backup
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q23" value="0"> Não temos política de backup
                        </label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">24. As políticas de segurança da informação estão atualizadas e incluem proteção de dados?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q24" value="4"> Sim, políticas completas e atualizadas
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q24" value="2"> Políticas básicas implementadas
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q24" value="1"> Estamos atualizando as políticas
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q24" value="0"> Políticas desatualizadas ou inexistentes
                        </label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">25. O princípio da minimização de dados é aplicado na coleta e processamento?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q25" value="4"> Sim, sempre coletamos apenas dados necessários
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q25" value="2"> Aplicamos minimização na maioria dos casos
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q25" value="1"> Estamos implementando minimização
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q25" value="0"> Não aplicamos minimização de dados
                        </label>
                    </div>
                </div>
            </div>

            <!-- Etapa 7: Gestão de Terceiros -->
            <div class="step" id="step7">
                <h2>Gestão de Terceiros</h2>
                <p class="step-description">Avalie como sua empresa gerencia o compartilhamento de dados com terceiros e operadores.</p>

                <div class="question-group">
                    <div class="question-title">26. Contratos com operadores de dados incluem cláusulas específicas de proteção de dados?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q26" value="4"> Sim, todos os contratos têm cláusulas completas
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q26" value="2"> Principais contratos têm cláusulas básicas
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q26" value="1"> Estamos atualizando os contratos
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q26" value="0"> Contratos não têm cláusulas de proteção
                        </label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">27. Existe processo de due diligence em privacidade para novos fornecedores?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q27" value="4"> Sim, due diligence rigorosa implementada
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q27" value="2"> Due diligence básica realizada
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q27" value="1"> Estamos desenvolvendo processo de due diligence
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q27" value="0"> Não realizamos due diligence em privacidade
                        </label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">28. As responsabilidades entre controlador e operador estão claramente definidas?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q28" value="4"> Sim, responsabilidades sempre bem definidas
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q28" value="2"> Responsabilidades básicas definidas
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q28" value="1"> Estamos definindo responsabilidades
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q28" value="0"> Responsabilidades não estão definidas
                        </label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">29. Existe monitoramento do cumprimento das obrigações por parte dos operadores?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q29" value="4"> Sim, monitoramento regular e efetivo
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q29" value="2"> Monitoramento básico implementado
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q29" value="1"> Iniciamos monitoramento dos operadores
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q29" value="0"> Não monitoramos os operadores
                        </label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">30. Transferências internacionais de dados seguem os requisitos da LGPD?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q30" value="4"> Sim, todas as transferências são conformes
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q30" value="2"> Principais transferências são conformes
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q30" value="1"> Estamos adequando as transferências
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q30" value="0"> Não realizamos transferências internacionais
                        </label>
                    </div>
                </div>
            </div>

            <!-- Etapa 8: Gestão de Incidentes -->
            <div class="step" id="step8">
                <h2>Gestão de Incidentes</h2>
                <p class="step-description">Avalie a preparação da sua empresa para detectar, responder e notificar incidentes de segurança.</p>

                <div class="question-group">
                    <div class="question-title">31. Existe plano de resposta a incidentes de segurança documentado?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q31" value="4"> Sim, plano completo e testado regularmente
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q31" value="2"> Plano básico documentado
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q31" value="1"> Estamos desenvolvendo plano de resposta
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q31" value="0"> Não temos plano de resposta a incidentes
                        </label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">32. Existe equipe definida para resposta a incidentes de segurança?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q32" value="4"> Sim, equipe dedicada e treinada
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q32" value="2"> Equipe básica definida
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q32" value="1"> Estamos formando equipe de resposta
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q32" value="0"> Não temos equipe para incidentes
                        </label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">33. Existem mecanismos para detectar incidentes de segurança rapidamente?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q33" value="4"> Sim, monitoramento automatizado e eficaz
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q33" value="2"> Mecanismos básicos de detecção
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q33" value="1"> Estamos implementando detecção de incidentes
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q33" value="0"> Não temos mecanismos de detecção
                        </label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">34. Existe processo definido para notificação à ANPD em caso de incidentes?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q34" value="4"> Sim, processo completo e dentro dos prazos legais
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q34" value="2"> Processo básico de notificação
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q34" value="1"> Estamos desenvolvendo processo de notificação
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q34" value="0"> Não temos processo de notificação
                        </label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">35. Existe processo para comunicar incidentes aos titulares quando necessário?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q35" value="4"> Sim, comunicação sempre adequada e tempestiva
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q35" value="2"> Processo básico de comunicação
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q35" value="1"> Estamos desenvolvendo comunicação aos titulares
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q35" value="0"> Não comunicamos incidentes aos titulares
                        </label>
                    </div>
                </div>
            </div>

            <!-- Etapa 9: Monitoramento e Auditoria -->
            <div class="step" id="step9">
                <h2>Monitoramento e Auditoria</h2>
                <p class="step-description">Avalie os processos de monitoramento contínuo e auditoria da conformidade LGPD.</p>

                <div class="question-group">
                    <div class="question-title">36. Existem indicadores (KPIs) definidos para monitorar a conformidade LGPD?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q36" value="4"> Sim, KPIs completos e monitorados regularmente
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q36" value="2"> KPIs básicos implementados
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q36" value="1"> Estamos definindo KPIs de conformidade
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q36" value="0"> Não temos KPIs de conformidade
                        </label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">37. É realizado monitoramento regular da conformidade LGPD?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q37" value="4"> Sim, monitoramento contínuo e sistemático
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q37" value="2"> Monitoramento periódico básico
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q37" value="1"> Iniciamos monitoramento da conformidade
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q37" value="0"> Não realizamos monitoramento
                        </label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">38. Existe programa de auditoria interna para LGPD estabelecido?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q38" value="4"> Sim, programa completo de auditoria interna
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q38" value="2"> Auditorias básicas realizadas
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q38" value="1"> Estamos estabelecendo programa de auditoria
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q38" value="0"> Não realizamos auditorias internas
                        </label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">39. Não conformidades identificadas geram planos de ação corretiva?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q39" value="4"> Sim, sempre com planos detalhados e prazos
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q39" value="2"> Planos básicos de correção
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q39" value="1"> Iniciamos planos de ação corretiva
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q39" value="0"> Não criamos planos de ação
                        </label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">40. Existe processo de revisão periódica das políticas e procedimentos LGPD?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q40" value="4"> Sim, revisão sistemática e documentada
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q40" value="2"> Revisões básicas realizadas
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q40" value="1"> Iniciamos processo de revisão
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q40" value="0"> Não realizamos revisões periódicas
                        </label>
                    </div>
                </div>
            </div>

            <!-- Etapa 10: Transparência e Comunicação -->
            <div class="step" id="step10">
                <h2>Transparência e Comunicação</h2>
                <p class="step-description">Avalie como sua empresa comunica sobre proteção de dados e mantém transparência com os titulares.</p>

                <div class="question-group">
                    <div class="question-title">41. A política de privacidade está atualizada e acessível aos titulares?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q41" value="4"> Sim, política completa, clara e facilmente acessível
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q41" value="2"> Política básica disponível
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q41" value="1"> Estamos atualizando a política de privacidade
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q41" value="0"> Política desatualizada ou inexistente
                        </label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">42. As informações sobre tratamento de dados são fornecidas de forma clara e adequada?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q42" value="4"> Sim, informações sempre claras e completas
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q42" value="2"> Informações básicas fornecidas
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q42" value="1"> Melhorando a comunicação sobre tratamento
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q42" value="0"> Informações não são fornecidas adequadamente
                        </label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">43. Existem canais de comunicação específicos sobre privacidade estabelecidos?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q43" value="4"> Sim, canais dedicados e bem divulgados
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q43" value="2"> Canais básicos disponíveis
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q43" value="1"> Estabelecendo canais de comunicação
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q43" value="0"> Não temos canais específicos
                        </label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">44. A empresa monitora e responde a atualizações regulamentares da LGPD?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q44" value="4"> Sim, monitoramento ativo e implementação rápida
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q44" value="2"> Monitoramento básico das atualizações
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q44" value="1"> Iniciamos monitoramento regulamentar
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q44" value="0"> Não monitoramos atualizações
                        </label>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-title">45. Existe processo de melhoria contínua baseado em feedback e mudanças regulamentares?</div>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="q45" value="4"> Sim, processo estruturado de melhoria contínua
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q45" value="2"> Melhorias básicas implementadas
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q45" value="1"> Iniciamos processo de melhoria contínua
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="q45" value="0"> Não temos processo de melhoria
                        </label>
                    </div>
                </div>
            </div>

            <!-- Loading -->
            <div class="loading" id="loading">
                <div class="spinner"></div>
                <p>Processando sua avaliação...</p>
            </div>

            <!-- Resultado -->
            <div class="step" id="result">
                <div class="result-container">
                    <div class="score-circle" id="scoreCircle">
                        <span id="scoreValue">0%</span>
                    </div>
                    <h2 class="result-title" id="resultTitle">Seu Resultado</h2>
                    <p class="result-description" id="resultDescription">Descrição do resultado</p>
                    
                    <div class="recommendations">
                        <h3>🎯 Recomendações Prioritárias</h3>
                        <div id="recommendationsList"></div>
                    </div>

                    <div class="cta-section">
                        <h3>🚀 Próximos Passos</h3>
                        <p>Receba uma proposta personalizada de adequação LGPD para sua empresa, desenvolvida por especialistas com base nos resultados desta avaliação.</p>
                        <a href="https://www.osiowy.com.br/contato" class="btn-cta">Solicitar Proposta Personalizada</a>
                    </div>
                </div>
            </div>

            <div class="navigation">
                <button class="btn btn-secondary" id="prevBtn" onclick="previousStep()">← Anterior</button>
                <button class="btn btn-primary" id="nextBtn" onclick="nextStep()">Próximo →</button>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 0;
        const totalSteps = 11; // 0 (intro) + 1 (info) + 9 (questions) + 1 (result)
        let answers = {};
        let companyInfo = {};

        function updateProgress() {
            const progress = (currentStep / (totalSteps - 1)) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            
            if (currentStep === 0) {
                document.getElementById('progressText').textContent = 'Introdução';
            } else if (currentStep === totalSteps - 1) {
                document.getElementById('progressText').textContent = 'Resultado Final';
            } else {
                document.getElementById('progressText').textContent = `Etapa ${currentStep} de ${totalSteps - 2}`;
            }
        }

        function showStep(step) {
            // Hide all steps
            const steps = document.querySelectorAll('.step');
            steps.forEach(s => s.classList.remove('active'));
            
            // Show current step
            document.getElementById(`step${step}`).classList.add('active');
            
            // Update navigation buttons
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            prevBtn.style.display = step === 0 ? 'none' : 'block';
            
            if (step === 0) {
                nextBtn.textContent = 'Iniciar Avaliação →';
            } else if (step === totalSteps - 2) {
                nextBtn.textContent = 'Finalizar Avaliação →';
            } else if (step === totalSteps - 1) {
                nextBtn.style.display = 'none';
            } else {
                nextBtn.textContent = 'Próximo →';
            }
            
            updateProgress();
        }

        function validateCurrentStep() {
            if (currentStep === 0) {
                return true; // Intro step
            }
            
            if (currentStep === 1) {
                // Validate company info
                const name = document.getElementById('companyName').value.trim();
                const sector = document.getElementById('sector').value;
                const employees = document.getElementById('employees').value;
                const email = document.getElementById('email').value.trim();
                
                if (!name || !sector || !employees || !email) {
                    showError('Por favor, preencha todos os campos obrigatórios.');
                    return false;
                }
                
                if (!isValidEmail(email)) {
                    showError('Por favor, insira um e-mail válido.');
                    return false;
                }
                
                // Save company info
                companyInfo = { name, sector, employees, email };
                return true;
            }
            
            if (currentStep >= 2 && currentStep <= 10) {
                // Validate questions for current step
                const stepQuestions = getQuestionsForStep(currentStep);
                for (let q of stepQuestions) {
                    if (!answers[q]) {
                        showError('Por favor, responda todas as perguntas antes de continuar.');
                        return false;
                    }
                }
                return true;
            }
            
            return true;
        }

        function getQuestionsForStep(step) {
            const questionsPerStep = {
                2: ['q1', 'q2', 'q3', 'q4', 'q5'],
                3: ['q6', 'q7', 'q8', 'q9', 'q10'],
                4: ['q11', 'q12', 'q13', 'q14', 'q15'],
                5: ['q16', 'q17', 'q18', 'q19', 'q20'],
                6: ['q21', 'q22', 'q23', 'q24', 'q25'],
                7: ['q26', 'q27', 'q28', 'q29', 'q30'],
                8: ['q31', 'q32', 'q33', 'q34', 'q35'],
                9: ['q36', 'q37', 'q38', 'q39', 'q40'],
                10: ['q41', 'q42', 'q43', 'q44', 'q45']
            };
            return questionsPerStep[step] || [];
        }

        function isValidEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }

        function showError(message) {
            // Remove existing error messages
            const existingErrors = document.querySelectorAll('.error-message');
            existingErrors.forEach(error => error.remove());
            
            // Create new error message
            const errorDiv = document.createElement('div');
            errorDiv.className = 'error-message';
            errorDiv.textContent = message;
            
            // Insert before navigation
            const navigation = document.querySelector('.navigation');
            navigation.parentNode.insertBefore(errorDiv, navigation);
            
            // Remove error after 5 seconds
            setTimeout(() => {
                errorDiv.remove();
            }, 5000);
        }

        function nextStep() {
            if (!validateCurrentStep()) {
                return;
            }
            
            if (currentStep < totalSteps - 1) {
                if (currentStep === totalSteps - 2) {
                    // Show loading and calculate result
                    showLoading();
                    setTimeout(() => {
                        calculateResult();
                        currentStep++;
                        showStep(currentStep);
                    }, 2000);
                } else {
                    currentStep++;
                    showStep(currentStep);
                }
            }
        }

        function previousStep() {
            if (currentStep > 0) {
                currentStep--;
                showStep(currentStep);
            }
        }

        function showLoading() {
            const steps = document.querySelectorAll('.step');
            steps.forEach(s => s.classList.remove('active'));
            document.getElementById('loading').style.display = 'block';
            document.querySelector('.navigation').style.display = 'none';
        }

        function calculateResult() {
            document.getElementById('loading').style.display = 'none';
            document.querySelector('.navigation').style.display = 'flex';
            
            // Calculate total score
            let totalScore = 0;
            let maxScore = 45 * 4; // 45 questions, 4 points max each
            
            for (let i = 1; i <= 45; i++) {
                totalScore += parseInt(answers[`q${i}`] || 0);
            }
            
            const percentage = Math.round((totalScore / maxScore) * 100);
            
            // Determine result category
            let category, title, description, recommendations;
            
            if (percentage >= 85) {
                category = 'excellent';
                title = 'Conformidade Excelente';
                description = 'Parabéns! Sua empresa demonstra um alto nível de conformidade com a LGPD. Continue mantendo as boas práticas e monitore regularmente para garantir a conformidade contínua.';
                recommendations = [
                    {
                        title: 'Manutenção da Excelência',
                        description: 'Continue monitorando e atualizando suas práticas conforme mudanças regulamentares.'
                    },
                    {
                        title: 'Auditoria Periódica',
                        description: 'Realize auditorias internas regulares para manter o alto padrão de conformidade.'
                    },
                    {
                        title: 'Treinamento Contínuo',
                        description: 'Mantenha programas de treinamento atualizados para toda a equipe.'
                    }
                ];
            } else if (percentage >= 70) {
                category = 'good';
                title = 'Conformidade Adequada';
                description = 'Sua empresa está no caminho certo! Há uma base sólida de conformidade, mas algumas áreas precisam de atenção para alcançar a excelência.';
                recommendations = [
                    {
                        title: 'Fortalecimento de Controles',
                        description: 'Implemente controles mais rigorosos nas áreas identificadas como deficientes.'
                    },
                    {
                        title: 'Documentação Completa',
                        description: 'Complete a documentação de todos os processos de tratamento de dados.'
                    },
                    {
                        title: 'Treinamento Específico',
                        description: 'Foque em treinamentos específicos para as áreas que precisam de melhoria.'
                    }
                ];
            } else if (percentage >= 40) {
                category = 'fair';
                title = 'Conformidade Parcial';
                description = 'Sua empresa tem alguns elementos de conformidade implementados, mas há lacunas significativas que precisam ser endereçadas urgentemente.';
                recommendations = [
                    {
                        title: 'Plano de Adequação Urgente',
                        description: 'Desenvolva um plano estruturado de adequação com prazos definidos.'
                    },
                    {
                        title: 'Implementação de Políticas',
                        description: 'Crie e implemente políticas formais de proteção de dados.'
                    },
                    {
                        title: 'Nomeação de DPO',
                        description: 'Designe um encarregado de dados qualificado para liderar as iniciativas.'
                    }
                ];
            } else {
                category = 'poor';
                title = 'Não Conformidade';
                description = 'Sua empresa apresenta riscos significativos de não conformidade com a LGPD. É essencial tomar ações imediatas para evitar sanções e proteger os dados pessoais.';
                recommendations = [
                    {
                        title: 'Ação Imediata Necessária',
                        description: 'Inicie imediatamente um projeto de adequação à LGPD com apoio especializado.'
                    },
                    {
                        title: 'Consultoria Especializada',
                        description: 'Contrate consultoria jurídica especializada em LGPD para orientação.'
                    },
                    {
                        title: 'Investimento Prioritário',
                        description: 'Aloque recursos urgentes para implementação de medidas básicas de proteção.'
                    }
                ];
            }
            
            // Update result display
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.className = `score-circle score-${category}`;
            document.getElementById('scoreValue').textContent = percentage + '%';
            document.getElementById('resultTitle').textContent = title;
            document.getElementById('resultDescription').textContent = description;
            
            // Update recommendations
            const recommendationsList = document.getElementById('recommendationsList');
            recommendationsList.innerHTML = '';
            recommendations.forEach(rec => {
                const recDiv = document.createElement('div');
                recDiv.className = 'recommendation-item';
                recDiv.innerHTML = `
                    <h4>${rec.title}</h4>
                    <p>${rec.description}</p>
                `;
                recommendationsList.appendChild(recDiv);
            });
            
            // Send result via email (simulation)
            sendResultEmail(percentage, category, title);
        }

        function sendResultEmail(percentage, category, title) {
            // In a real implementation, this would send the result to the provided email
            console.log('Sending result email:', {
                email: companyInfo.email,
                company: companyInfo.name,
                score: percentage,
                category: category,
                title: title
            });
        }

        // Event listeners for radio buttons
        document.addEventListener('change', function(e) {
            if (e.target.type === 'radio') {
                answers[e.target.name] = e.target.value;
                
                // Update visual selection
                const radioGroup = e.target.closest('.radio-group');
                const options = radioGroup.querySelectorAll('.radio-option');
                options.forEach(option => option.classList.remove('selected'));
                e.target.closest('.radio-option').classList.add('selected');
            }
        });

        // Initialize
        showStep(0);
    </script>
</body>
</html>

